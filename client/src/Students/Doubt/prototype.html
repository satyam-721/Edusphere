<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduFlow - Student Doubt Portal</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Google Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #202124;
            background: #fafafa;
            overflow-x: hidden;
        }

        /* Header & Navigation */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: #fff;
            border-bottom: 1px solid #e0e0e0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .nav-left {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1a73e8;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo::before {
            content: '';
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #1a73e8, #4285f4);
            border-radius: 6px;
        }

        .breadcrumb {
            color: #5f6368;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .nav-button {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: background 0.3s ease;
            color: #5f6368;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .nav-button:hover {
            background: rgba(26, 115, 232, 0.08);
            color: #1a73e8;
        }

        .nav-button .badge {
            position: absolute;
            top: 8px;
            right: 8px;
            background: #ea4335;
            color: #fff;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        .profile-menu {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            transition: background 0.3s ease;
        }

        .profile-menu:hover {
            background: rgba(26, 115, 232, 0.08);
        }

        .profile-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(135deg, #34a853, #46d160);
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.9rem;
        }

        /* Main Layout */
        .main-container {
            display: flex;
            min-height: 100vh;
            padding-top: 70px;
        }

        .sidebar {
            width: 280px;
            background: #fff;
            border-right: 1px solid #e0e0e0;
            padding: 2rem 0;
            position: fixed;
            height: calc(100vh - 70px);
            overflow-y: auto;
        }

        .sidebar-section {
            margin-bottom: 2rem;
        }

        .sidebar-title {
            font-size: 0.75rem;
            font-weight: 600;
            color: #5f6368;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            padding: 0 2rem;
            margin-bottom: 1rem;
        }

        .sidebar-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.75rem 2rem;
            color: #5f6368;
            text-decoration: none;
            transition: all 0.3s ease;
            border-right: 3px solid transparent;
            font-weight: 500;
        }

        .sidebar-item:hover, .sidebar-item.active {
            background: rgba(26, 115, 232, 0.08);
            color: #1a73e8;
            border-right-color: #1a73e8;
        }

        .sidebar-icon {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            background: rgba(95, 99, 104, 0.1);
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        .sidebar-item:hover .sidebar-icon,
        .sidebar-item.active .sidebar-icon {
            background: rgba(26, 115, 232, 0.1);
            color: #1a73e8;
        }

        .content {
            flex: 1;
            margin-left: 280px;
            padding: 2rem;
        }

        /* Dashboard Header */
        .dashboard-header {
            background: linear-gradient(135deg, #34a853, #46d160);
            color: #fff;
            padding: 2rem;
            border-radius: 16px;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }

        .dashboard-header::before {
            content: '';
            position: absolute;
            top: -50px;
            right: -50px;
            width: 150px;
            height: 150px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }

        .header-content {
            position: relative;
            z-index: 2;
        }

        .header-title {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .header-subtitle {
            opacity: 0.9;
            font-size: 1rem;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: #fff;
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid #e0e0e0;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(26, 115, 232, 0.05), transparent);
            transition: 0.5s;
        }

        .stat-card:hover::before {
            left: 100%;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            border-color: #1a73e8;
        }

        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .stat-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            color: #fff;
            font-weight: 600;
        }

        .stat-icon.total { background: linear-gradient(135deg, #1a73e8, #4285f4); }
        .stat-icon.pending { background: linear-gradient(135deg, #fbbc04, #fdd835); }
        .stat-icon.answered { background: linear-gradient(135deg, #34a853, #46d160); }
        .stat-icon.resolved { background: linear-gradient(135deg, #9c27b0, #e91e63); }

        .stat-value {
            font-size: 1.8rem;
            font-weight: 600;
            color: #202124;
            margin-bottom: 0.25rem;
        }

        .stat-label {
            color: #5f6368;
            font-size: 0.9rem;
            font-weight: 500;
        }

        /* Main Grid */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        /* Ask Doubt Section */
        .ask-doubt-section {
            background: #fff;
            border-radius: 16px;
            border: 1px solid #e0e0e0;
            padding: 2rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #202124;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            font-weight: 500;
            color: #202124;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .form-select, .form-input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 0.95rem;
            font-family: inherit;
            transition: border-color 0.3s ease;
        }

        .form-select:focus, .form-input:focus {
            outline: none;
            border-color: #1a73e8;
            box-shadow: 0 0 0 3px rgba(26, 115, 232, 0.1);
        }

        .form-textarea {
            width: 100%;
            min-height: 120px;
            padding: 0.75rem;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 0.95rem;
            font-family: inherit;
            resize: vertical;
            transition: border-color 0.3s ease;
        }

        .form-textarea:focus {
            outline: none;
            border-color: #1a73e8;
            box-shadow: 0 0 0 3px rgba(26, 115, 232, 0.1);
        }

        .char-count {
            text-align: right;
            color: #5f6368;
            font-size: 0.85rem;
            margin-top: 0.25rem;
        }

        .attachment-area {
            border: 2px dashed #e0e0e0;
            border-radius: 8px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .attachment-area:hover {
            border-color: #1a73e8;
            background: rgba(26, 115, 232, 0.02);
        }

        .attachment-area.has-file {
            border-color: #34a853;
            background: rgba(52, 168, 83, 0.05);
        }

        .attachment-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: #5f6368;
        }

        .attachment-text {
            color: #5f6368;
            font-size: 0.9rem;
        }

        .attachment-preview {
            margin-top: 1rem;
            padding: 0.75rem;
            background: #f8f9fa;
            border-radius: 8px;
            display: none;
            align-items: center;
            gap: 0.5rem;
        }

        .attachment-preview.show {
            display: flex;
        }

        .preview-filename {
            flex: 1;
            color: #202124;
            font-size: 0.9rem;
        }

        .remove-file {
            background: #ea4335;
            color: #fff;
            border: none;
            padding: 0.25rem 0.75rem;
            border-radius: 16px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: background 0.3s ease;
        }

        .remove-file:hover {
            background: #c5221f;
        }

        .submit-btn {
            background: linear-gradient(135deg, #34a853, #46d160);
            color: #fff;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            font-size: 1rem;
            transition: all 0.3s ease;
            width: 100%;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(52, 168, 83, 0.3);
        }

        .submit-btn:disabled {
            background: #e0e0e0;
            color: #5f6368;
            cursor: not-allowed;
            transform: none;
        }

        /* My Doubts Section */
        .my-doubts-section {
            background: #fff;
            border-radius: 16px;
            border: 1px solid #e0e0e0;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }

        .section-header {
            padding: 1.5rem 2rem;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .filter-tabs {
            display: flex;
            gap: 0.5rem;
        }

        .filter-tab {
            padding: 0.5rem 1rem;
            border: 1px solid #e0e0e0;
            background: #fff;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .filter-tab:hover, .filter-tab.active {
            background: rgba(26, 115, 232, 0.08);
            border-color: #1a73e8;
            color: #1a73e8;
        }

        .doubts-list {
            max-height: 600px;
            overflow-y: auto;
        }

        .doubt-card {
            padding: 1.5rem 2rem;
            border-bottom: 1px solid #f8f9fa;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .doubt-card:hover {
            background: #f8f9fa;
        }

        .doubt-card:last-child {
            border-bottom: none;
        }

        .doubt-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.75rem;
        }

        .doubt-meta {
            display: flex;
            gap: 0.75rem;
            align-items: center;
        }

        .subject-badge {
            background: rgba(26, 115, 232, 0.1);
            color: #1a73e8;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .doubt-time {
            color: #5f6368;
            font-size: 0.8rem;
        }

        .status-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .status-badge.pending {
            background: rgba(251, 188, 4, 0.1);
            color: #fbbc04;
        }

        .status-badge.answered {
            background: rgba(52, 168, 83, 0.1);
            color: #34a853;
        }

        .status-badge.resolved {
            background: rgba(156, 39, 176, 0.1);
            color: #9c27b0;
        }

        .doubt-question {
            color: #202124;
            font-weight: 500;
            margin-bottom: 0.5rem;
            line-height: 1.5;
        }

        .doubt-answer {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
            border-left: 3px solid #34a853;
        }

        .answer-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            color: #34a853;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .answer-text {
            color: #202124;
            line-height: 1.6;
        }

        .doubt-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .action-btn {
            background: none;
            border: 1px solid #e0e0e0;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.8rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .action-btn:hover {
            border-color: #1a73e8;
            color: #1a73e8;
            background: rgba(26, 115, 232, 0.05);
        }

        .action-btn.primary {
            background: #1a73e8;
            color: #fff;
            border-color: #1a73e8;
        }

        .action-btn.primary:hover {
            background: #1557b0;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 3rem 2rem;
        }

        .empty-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        .empty-text {
            color: #5f6368;
            font-size: 0.95rem;
        }

        /* Notification Toast */
        .notification {
            position: fixed;
            top: 90px;
            right: 2rem;
            background: #fff;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            border-left: 4px solid #34a853;
            color: #202124;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            z-index: 998;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
            min-width: 320px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.error {
            border-left-color: #ea4335;
        }

        .notification.info {
            border-left-color: #1a73e8;
        }

        /* Floating Action Button */
        .fab {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: linear-gradient(135deg, #34a853, #46d160);
            color: #fff;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 4px 12px rgba(52, 168, 83, 0.3);
            transition: all 0.3s ease;
            z-index: 999;
        }

        .fab:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(52, 168, 83, 0.4);
        }

        .fab::after {
            content: '+';
            font-size: 1.8rem;
            font-weight: 300;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }

            .sidebar.active {
                transform: translateX(0);
            }

            .content {
                margin-left: 0;
                padding: 1rem;
            }

            .nav {
                padding: 1rem;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
            }

            .filter-tabs {
                flex-wrap: wrap;
            }
        }

        /* Loading Animation */
        .spinner {
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top: 2px solid #fff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            display: inline-block;
            margin-right: 0.5rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* File input hidden */
        input[type="file"] {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav">
            <div class="nav-left">
                <a href="#" class="logo">EduFlow</a>
                <div class="breadcrumb">My Doubts</div>
            </div>
            <div class="nav-right">
                <button class="nav-button" title="Notifications">üîî
                    <span class="badge">2</span>
                </button>
                <button class="nav-button" title="Messages">üí¨</button>
                <button class="nav-button" title="Settings">‚öôÔ∏è</button>
                <div class="profile-menu">
                    <div class="profile-avatar">SM</div>
                    <span style="font-weight: 500; color: #202124;">Sarah Miller</span>
                    <span style="color: #5f6368; margin-left: 0.25rem;">‚ñº</span>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-section">
                <div class="sidebar-title">Navigation</div>
                <a href="#" class="sidebar-item">
                    <div class="sidebar-icon">‚ñ°</div>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="sidebar-item">
                    <div class="sidebar-icon">‚ñ§</div>
                    <span>My Classes</span>
                </a>
                <a href="#" class="sidebar-item active">
                    <div class="sidebar-icon">‚ùì</div>
                    <span>My Doubts</span>
                </a>
                <a href="#" class="sidebar-item">
                    <div class="sidebar-icon">‚óê</div>
                    <span>Assignments</span>
                </a>
                <a href="#" class="sidebar-item">
                    <div class="sidebar-icon">‚óí</div>
                    <span>Grades</span>
                </a>
            </div>
            <div class="sidebar-section">
                <div class="sidebar-title">Resources</div>
                <a href="#" class="sidebar-item">
                    <div class="sidebar-icon">üìö</div>
                    <span>Study Materials</span>
                </a>
                <a href="#" class="sidebar-item">
                    <div class="sidebar-icon">üé•</div>
                    <span>Video Lessons</span>
                </a>
                <a href="#" class="sidebar-item">
                    <div class="sidebar-icon">üìù</div>
                    <span>Practice Tests</span>
                </a>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="content">
            <!-- Dashboard Header -->
            <div class="dashboard-header">
                <div class="header-content">
                    <h1 class="header-title">Ask Your Doubts Anytime!</h1>
                    <p class="header-subtitle">Get personalized help from your teachers. Your questions matter!</p>
                </div>
            </div>

            <!-- Quick Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon total">üìä</div>
                    </div>
                    <div class="stat-value">12</div>
                    <div class="stat-label">Total Doubts</div>
                </div>
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon pending">‚è≥</div>
                    </div>
                    <div class="stat-value">3</div>
                    <div class="stat-label">Pending</div>
                </div>
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon answered">‚úÖ</div>
                    </div>
                    <div class="stat-value">7</div>
                    <div class="stat-label">Answered</div>
                </div>
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon resolved">‚úì</div>
                    </div>
                    <div class="stat-value">2</div>
                    <div class="stat-label">Resolved</div>
                </div>
            </div>

            <!-- Main Grid -->
            <div class="main-grid">
                <!-- Ask Doubt Section -->
                <div class="ask-doubt-section">
                    <h2 class="section-title">‚úçÔ∏è Ask a New Doubt</h2>
                    
                    <form id="doubtForm">
                        <div class="form-group">
                            <label class="form-label">Subject *</label>
                            <select class="form-select" id="subjectSelect" required>
                                <option value="">Select a subject</option>
                                <option value="mathematics">Mathematics</option>
                                <option value="physics">Physics</option>
                                <option value="chemistry">Chemistry</option>
                                <option value="biology">Biology</option>
                                <option value="english">English</option>
                                <option value="history">History</option>
                                <option value="computer">Computer Science</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Topic (Optional)</label>
                            <input type="text" class="form-input" id="topicInput" placeholder="e.g., Newton's Laws, Quadratic Equations">
                        </div>

                        <div class="form-group">
                            <label class="form-label">Your Doubt *</label>
                            <textarea 
                                class="form-textarea" 
                                id="doubtText" 
                                placeholder="Describe your doubt in detail. The more specific you are, the better help you'll receive!"
                                maxlength="1000"
                                required
                            ></textarea>
                            <div class="char-count">
                                <span id="charCount">0</span> / 1000 characters
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Attach Image (Optional)</label>
                            <div class="attachment-area" id="attachmentArea" onclick="document.getElementById('fileInput').click()">
                                <div class="attachment-icon">üìé</div>
                                <div class="attachment-text">Click to upload or drag and drop</div>
                                <div class="attachment-text" style="font-size: 0.8rem; margin-top: 0.25rem;">PNG, JPG, PDF (Max 5MB)</div>
                            </div>
                            <input type="file" id="fileInput" accept="image/*,.pdf" onchange="handleFileSelect(this)">
                            <div class="attachment-preview" id="attachmentPreview">
                                <span class="preview-filename" id="previewFilename"></span>
                                <button type="button" class="remove-file" onclick="removeFile()">Remove</button>
                            </div>
                        </div>

                        <button type="submit" class="submit-btn" id="submitBtn">
                            Submit Doubt
                        </button>
                    </form>
                </div>

                <!-- My Doubts Section -->
                <div class="my-doubts-section">
                    <div class="section-header">
                        <h2 class="section-title">üìù My Doubts</h2>
                        <div class="filter-tabs">
                            <button class="filter-tab active" onclick="filterDoubts('all')">All</button>
                            <button class="filter-tab" onclick="filterDoubts('pending')">Pending</button>
                            <button class="filter-tab" onclick="filterDoubts('answered')">Answered</button>
                            <button class="filter-tab" onclick="filterDoubts('resolved')">Resolved</button>
                        </div>
                    </div>

                    <div class="doubts-list" id="doubtsList">
                        <!-- Doubt Card 1 - Answered -->
                        <div class="doubt-card fade-in" data-status="answered">
                            <div class="doubt-header">
                                <div class="doubt-meta">
                                    <span class="subject-badge">Physics</span>
                                    <span class="doubt-time">2 hours ago</span>
                                </div>
                                <span class="status-badge answered">Answered</span>
                            </div>
                            <div class="doubt-question">
                                How do I calculate force using F=ma when the mass is given in grams? Do I need to convert it first?
                            </div>
                            <div class="doubt-answer">
                                <div class="answer-header">
                                    <span>‚úì</span>
                                    <span>Teacher's Answer</span>
                                </div>
                                <div class="answer-text">
                                    Yes, you need to convert grams to kilograms first. The SI unit for mass is kilograms (kg). 
                                    Simply divide the mass in grams by 1000. For example, 500g = 0.5kg. 
                                    Then apply F = ma with mass in kg and acceleration in m/s¬≤.
                                </div>
                            </div>
                            <div class="doubt-actions">
                                <button class="action-btn primary" onclick="markResolved(this)">Mark as Resolved</button>
                                <button class="action-btn" onclick="askFollowUp(this)">Ask Follow-up</button>
                            </div>
                        </div>

                        <!-- Doubt Card 2 - Pending -->
                        <div class="doubt-card fade-in" data-status="pending">
                            <div class="doubt-header">
                                <div class="doubt-meta">
                                    <span class="subject-badge">Mathematics</span>
                                    <span class="doubt-time">5 hours ago</span>
                                </div>
                                <span class="status-badge pending">Pending</span>
                            </div>
                            <div class="doubt-question">
                                I'm struggling with understanding how to factorize quadratic equations. Can you explain the steps?
                            </div>
                            <div class="doubt-actions">
                                <button class="action-btn" onclick="editDoubt(this)">Edit</button>
                                <button class="action-btn" onclick="deleteDoubt(this)">Delete</button>
                            </div>
                        </div>

                        <!-- Doubt Card 3 - Pending -->
                        <div class="doubt-card fade-in" data-status="pending">
                            <div class="doubt-header">
                                <div class="doubt-meta">
                                    <span class="subject-badge">Chemistry</span>
                                    <span class="doubt-time">1 day ago</span>
                                </div>
                                <span class="status-badge pending">Pending</span>
                            </div>
                            <div class="doubt-question">
                                What's the difference between ionic and covalent bonds? I get confused between them.
                            </div>
                            <div class="doubt-actions">
                                <button class="action-btn" onclick="editDoubt(this)">Edit</button>
                                <button class="action-btn" onclick="deleteDoubt(this)">Delete</button>
                            </div>
                        </div>

                        <!-- Doubt Card 4 - Answered -->
                        <div class="doubt-card fade-in" data-status="answered">
                            <div class="doubt-header">
                                <div class="doubt-meta">
                                    <span class="subject-badge">Mathematics</span>
                                    <span class="doubt-time">2 days ago</span>
                                </div>
                                <span class="status-badge answered">Answered</span>
                            </div>
                            <div class="doubt-question">
                                How do I solve systems of linear equations using the substitution method?
                            </div>
                            <div class="doubt-answer">
                                <div class="answer-header">
                                    <span>‚úì</span>
                                    <span>Teacher's Answer</span>
                                </div>
                                <div class="answer-text">
                                    1. Solve one equation for one variable in terms of the other
                                    2. Substitute this expression into the other equation
                                    3. Solve for the remaining variable
                                    4. Back-substitute to find the other variable
                                    5. Check your solution in both original equations
                                </div>
                            </div>
                            <div class="doubt-actions">
                                <button class="action-btn primary" onclick="markResolved(this)">Mark as Resolved</button>
                                <button class="action-btn" onclick="askFollowUp(this)">Ask Follow-up</button>
                            </div>
                        </div>

                        <!-- Doubt Card 5 - Resolved -->
                        <div class="doubt-card fade-in" data-status="resolved">
                            <div class="doubt-header">
                                <div class="doubt-meta">
                                    <span class="subject-badge">Biology</span>
                                    <span class="doubt-time">3 days ago</span>
                                </div>
                                <span class="status-badge resolved">Resolved</span>
                            </div>
                            <div class="doubt-question">
                                Can you explain the process of photosynthesis step by step?
                            </div>
                            <div class="doubt-answer">
                                <div class="answer-header">
                                    <span>‚úì</span>
                                    <span>Teacher's Answer</span>
                                </div>
                                <div class="answer-text">
                                    Photosynthesis occurs in two main stages:
                                    Light-dependent reactions (in thylakoid membranes) - capture light energy and produce ATP and NADPH.
                                    Calvin Cycle (in stroma) - uses ATP and NADPH to convert CO2 into glucose.
                                    Overall equation: 6CO2 + 6H2O + light ‚Üí C6H12O6 + 6O2
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Floating Action Button -->
    <button class="fab" onclick="scrollToAskDoubt()" title="Ask New Doubt"></button>

    <!-- Notification -->
    <div class="notification" id="notification">
        <strong>Welcome!</strong> Ready to clear your doubts? Ask away!
    </div>

    <script>
        // Global variables
        let uploadedFile = null;
        let doubtsData = [];

        // Show initial notification
        setTimeout(() => {
            showNotification('info', 'Welcome! Ready to clear your doubts? Ask away!');
        }, 1000);

        // Character count for textarea
        const doubtText = document.getElementById('doubtText');
        const charCount = document.getElementById('charCount');

        doubtText.addEventListener('input', () => {
            const count = doubtText.value.length;
            charCount.textContent = count;
            
            if (count > 900) {
                charCount.style.color = '#ea4335';
            } else if (count > 750) {
                charCount.style.color = '#fbbc04';
            } else {
                charCount.style.color = '#5f6368';
            }
        });

        // Handle file selection
        function handleFileSelect(input) {
            if (input.files && input.files[0]) {
                const file = input.files[0];
                
                // Validate file size (5MB)
                if (file.size > 5 * 1024 * 1024) {
                    showNotification('error', 'File size exceeds 5MB. Please choose a smaller file.');
                    input.value = '';
                    return;
                }

                // Validate file type
                const validTypes = ['image/png', 'image/jpeg', 'image/jpg', 'application/pdf'];
                if (!validTypes.includes(file.type)) {
                    showNotification('error', 'Invalid file type. Please upload PNG, JPG, or PDF.');
                    input.value = '';
                    return;
                }

                uploadedFile = file;
                
                // Update UI
                document.getElementById('attachmentArea').classList.add('has-file');
                document.getElementById('previewFilename').textContent = file.name;
                document.getElementById('attachmentPreview').classList.add('show');
                
                showNotification('success', `File "${file.name}" attached successfully!`);
            }
        }

        // Remove file
        function removeFile() {
            uploadedFile = null;
            document.getElementById('fileInput').value = '';
            document.getElementById('attachmentArea').classList.remove('has-file');
            document.getElementById('attachmentPreview').classList.remove('show');
            showNotification('info', 'File removed');
        }

        // Drag and drop support
        const attachmentArea = document.getElementById('attachmentArea');

        attachmentArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            e.stopPropagation();
            attachmentArea.style.borderColor = '#1a73e8';
            attachmentArea.style.background = 'rgba(26, 115, 232, 0.05)';
        });

        attachmentArea.addEventListener('dragleave', (e) => {
            e.preventDefault();
            e.stopPropagation();
            attachmentArea.style.borderColor = '';
            attachmentArea.style.background = '';
        });

        attachmentArea.addEventListener('drop', (e) => {
            e.preventDefault();
            e.stopPropagation();
            attachmentArea.style.borderColor = '';
            attachmentArea.style.background = '';
            
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                const fileInput = document.getElementById('fileInput');
                fileInput.files = files;
                handleFileSelect(fileInput);
            }
        });

        // Form submission
        document.getElementById('doubtForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const subject = document.getElementById('subjectSelect').value;
            const topic = document.getElementById('topicInput').value;
            const doubt = document.getElementById('doubtText').value;

            if (!subject) {
                showNotification('error', 'Please select a subject');
                return;
            }

            if (!doubt.trim()) {
                showNotification('error', 'Please describe your doubt');
                return;
            }

            // Show loading state
            const submitBtn = document.getElementById('submitBtn');
            const originalText = submitBtn.textContent;
            submitBtn.innerHTML = '<span class="spinner"></span> Submitting...';
            submitBtn.disabled = true;

            // Simulate submission
            setTimeout(() => {
                // Add new doubt to the list
                addNewDoubt(subject, topic, doubt, uploadedFile);

                // Reset form
                document.getElementById('doubtForm').reset();
                removeFile();
                charCount.textContent = '0';

                // Reset button
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;

                showNotification('success', 'Your doubt has been submitted! Teacher will respond soon.');

                // Update stats
                updateStats('pending', 1);

                // Scroll to doubts list
                setTimeout(() => {
                    document.querySelector('.my-doubts-section').scrollIntoView({ behavior: 'smooth' });
                }, 500);
            }, 2000);
        });

        // Add new doubt to list
        function addNewDoubt(subject, topic, doubt, file) {
            const doubtsList = document.getElementById('doubtsList');
            
            const doubtCard = document.createElement('div');
            doubtCard.className = 'doubt-card fade-in';
            doubtCard.setAttribute('data-status', 'pending');

            const topicText = topic ? ` - ${topic}` : '';
            const fileIndicator = file ? '<span style="margin-left: 0.5rem; color: #1a73e8;">üìé Attachment</span>' : '';

            doubtCard.innerHTML = `
                <div class="doubt-header">
                    <div class="doubt-meta">
                        <span class="subject-badge">${capitalizeFirst(subject)}</span>
                        <span class="doubt-time">Just now</span>
                    </div>
                    <span class="status-badge pending">Pending</span>
                </div>
                <div class="doubt-question">
                    ${doubt}${fileIndicator}
                </div>
                <div class="doubt-actions">
                    <button class="action-btn" onclick="editDoubt(this)">Edit</button>
                    <button class="action-btn" onclick="deleteDoubt(this)">Delete</button>
                </div>
            `;

            doubtsList.insertBefore(doubtCard, doubtsList.firstChild);
        }

        // Filter doubts
        function filterDoubts(status) {
            // Update active tab
            document.querySelectorAll('.filter-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');

            // Filter cards
            const cards = document.querySelectorAll('.doubt-card');
            cards.forEach(card => {
                if (status === 'all') {
                    card.style.display = 'block';
                } else {
                    card.style.display = card.dataset.status === status ? 'block' : 'none';
                }
            });

            showNotification('info', `Showing ${status === 'all' ? 'all' : status} doubts`);
        }

        // Mark doubt as resolved
        function markResolved(button) {
            const card = button.closest('.doubt-card');
            const statusBadge = card.querySelector('.status-badge');
            
            statusBadge.textContent = 'Resolved';
            statusBadge.className = 'status-badge resolved';
            card.dataset.status = 'resolved';

            // Remove action buttons
            const actionsDiv = button.parentElement;
            actionsDiv.remove();

            showNotification('success', 'Doubt marked as resolved! Great job! üéâ');

            // Update stats
            updateStats('answered', -1);
            updateStats('resolved', 1);
        }

        // Ask follow-up question
        function askFollowUp(button) {
            const card = button.closest('.doubt-card');
            const question = card.querySelector('.doubt-question').textContent;
            
            showNotification('info', 'Opening follow-up question form...');
            
            // Scroll to ask doubt section
            document.querySelector('.ask-doubt-section').scrollIntoView({ behavior: 'smooth' });
            
            // Pre-fill with context
            setTimeout(() => {
                const doubtTextarea = document.getElementById('doubtText');
                doubtTextarea.value = `Follow-up to: "${question.substring(0, 50)}..."\n\n`;
                doubtTextarea.focus();
                charCount.textContent = doubtTextarea.value.length;
            }, 500);
        }

        // Edit doubt
        function editDoubt(button) {
            const card = button.closest('.doubt-card');
            const question = card.querySelector('.doubt-question').textContent;
            const subject = card.querySelector('.subject-badge').textContent.toLowerCase();

            showNotification('info', 'Opening editor...');
            
            // Scroll to form
            document.querySelector('.ask-doubt-section').scrollIntoView({ behavior: 'smooth' });
            
            // Pre-fill form
            setTimeout(() => {
                document.getElementById('subjectSelect').value = subject;
                document.getElementById('doubtText').value = question.trim();
                charCount.textContent = question.trim().length;
                
                // Change button text
                const submitBtn = document.getElementById('submitBtn');
                submitBtn.textContent = 'Update Doubt';
            }, 500);
        }

        // Delete doubt
        function deleteDoubt(button) {
            if (confirm('Are you sure you want to delete this doubt?')) {
                const card = button.closest('.doubt-card');
                card.style.opacity = '0';
                card.style.transform = 'translateX(100px)';
                
                setTimeout(() => {
                    card.remove();
                    showNotification('success', 'Doubt deleted successfully');
                    updateStats('pending', -1);
                }, 300);
            }
        }

        // Update statistics
        function updateStats(type, change) {
            const stats = {
                'pending': document.querySelectorAll('.stat-card')[1],
                'answered': document.querySelectorAll('.stat-card')[2],
                'resolved': document.querySelectorAll('.stat-card')[3]
            };

            if (stats[type]) {
                const valueEl = stats[type].querySelector('.stat-value');
                const currentValue = parseInt(valueEl.textContent);
                const newValue = Math.max(0, currentValue + change);
                valueEl.textContent = newValue;

                // Update total
                const totalEl = document.querySelectorAll('.stat-card')[0].querySelector('.stat-value');
                const currentTotal = parseInt(totalEl.textContent);
                totalEl.textContent = currentTotal + change;

                // Animate
                valueEl.style.color = '#34a853';
                setTimeout(() => {
                    valueEl.style.color = '#202124';
                }, 1000);
            }
        }

        // Show notification
        function showNotification(type, message) {
            const notification = document.getElementById('notification');
            notification.className = `notification ${type}`;
            
            const icons = { success: '‚úÖ', error: '‚ùå', info: '‚ÑπÔ∏è' };
            const labels = { success: 'Success', error: 'Error', info: 'Info' };
            
            notification.innerHTML = `<strong>${icons[type]} ${labels[type]}:</strong> ${message}`;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, type === 'error' ? 4000 : 3000);
        }

        // Utility function
        function capitalizeFirst(str) {
            return str.charAt(0).toUpperCase() + str.slice(1);
        }

        // Scroll to ask doubt section
        function scrollToAskDoubt() {
            document.querySelector('.ask-doubt-section').scrollIntoView({ behavior: 'smooth' });
        }

        // Mobile menu toggle
        document.querySelector('.logo').addEventListener('click', (e) => {
            if (window.innerWidth <= 768) {
                e.preventDefault();
                document.querySelector('.sidebar').classList.toggle('active');
            }
        });

        // Close sidebar on mobile when clicking outside
        document.addEventListener('click', (e) => {
            if (window.innerWidth <= 768) {
                const sidebar = document.querySelector('.sidebar');
                const logo = document.querySelector('.logo');
                if (sidebar.classList.contains('active') && 
                    !sidebar.contains(e.target) && 
                    !logo.contains(e.target)) {
                    sidebar.classList.remove('active');
                }
            }
        });

        // Sidebar navigation
        document.querySelectorAll('.sidebar-item').forEach(item => {
            item.addEventListener('click', (e) => {
                e.preventDefault();
                document.querySelectorAll('.sidebar-item').forEach(i => i.classList.remove('active'));
                item.classList.add('active');
                
                const sectionName = item.querySelector('span').textContent;
                showNotification('info', `Navigating to ${sectionName}...`);
            });
        });

        // Stat card interactions
        document.querySelectorAll('.stat-card').forEach(card => {
            card.addEventListener('click', () => {
                const label = card.querySelector('.stat-label').textContent.toLowerCase();
                
                if (label.includes('pending')) {
                    filterDoubts('pending');
                } else if (label.includes('answered')) {
                    filterDoubts('answered');
                } else if (label.includes('resolved')) {
                    filterDoubts('resolved');
                } else {
                    filterDoubts('all');
                }

                document.querySelector('.my-doubts-section').scrollIntoView({ behavior: 'smooth' });
            });
        });

        // Profile menu
        document.querySelector('.profile-menu').addEventListener('click', () => {
            showNotification('info', 'Profile menu: Settings, Help, Logout');
        });

        // Nav buttons
        document.querySelectorAll('.nav-button').forEach(btn => {
            btn.addEventListener('click', () => {
                if (btn.title === 'Notifications') {
                    showNotification('info', 'You have 2 new doubt answers!');
                } else if (btn.title === 'Messages') {
                    showNotification('info', 'Opening messages...');
                } else if (btn.title === 'Settings') {
                    showNotification('info', 'Opening settings...');
                }
            });
        });

        // Simulate real-time notifications
        setTimeout(() => {
            showNotification('success', 'Your Physics doubt has been answered by Mr. Johnson!');
            
            // Update notification badge
            const notificationBtn = document.querySelector('.nav-button[title="Notifications"]');
            const badge = notificationBtn.querySelector('.badge');
            badge.textContent = parseInt(badge.textContent) + 1;
        }, 15000);

        // Auto-refresh check for new answers
        setInterval(() => {
            // In production, this would make an API call
            console.log('Checking for new answers...');
        }, 60000); // Check every minute

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            // Ctrl/Cmd + K to focus on doubt textarea
            if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                e.preventDefault();
                document.getElementById('doubtText').focus();
                scrollToAskDoubt();
            }
        });

        // Initialize
        console.log('%cüéì EduFlow Student Doubt Portal', 'color: #34a853; font-size: 16px; font-weight: bold;');
        console.log('%cVersion 1.0.0 - Ready to help with your doubts!', 'color: #5f6368; font-size: 12px;');
        console.log('%c‚úì Real-time notifications enabled', 'color: #34a853; font-size: 11px;');
        console.log('%c‚úì File upload ready', 'color: #34a853; font-size: 11px;');
        console.log('%c‚úì Auto-save enabled', 'color: #34a853; font-size: 11px;');
        
        // Tip: Press Ctrl+K to quickly ask a doubt
        console.log('%cüí° Tip: Press Ctrl+K to quickly ask a doubt', 'color: #1a73e8; font-size: 11px; font-style: italic;');
    </script>
</body>
</html>